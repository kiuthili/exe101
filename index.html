<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Board Game Helper ‚Äî X√∫c X·∫Øc, Hi·ªáu ·ª®ng & Trap</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root { 
      --die-size: clamp(96px, 28vw, 160px);
      --pip-size: clamp(10px, 3vw, 18px);
      --shadow: 0 6px 18px rgba(0,0,0,.15);
    } 
    body { background:#f7fafc; }
    .die { width: var(--die-size); height: var(--die-size); border-radius:20px; background:#fff; box-shadow:var(--shadow); margin:auto; position:relative; }
    .pip { position:absolute; width:var(--pip-size); height:var(--pip-size); border-radius:50%; background:#111; }
    .tl{top:14%;left:14%}.tc{top:14%;left:50%;transform:translateX(-50%)}.tr{top:14%;right:14%}
    .ml{top:50%;left:14%;transform:translateY(-50%)}.mc{top:50%;left:50%;transform:translate(-50%,-50%)}.mr{top:50%;right:14%;transform:translateY(-50%)}
    .bl{bottom:14%;left:14%}.bc{bottom:14%;left:50%;transform:translateX(-50%)}.br{bottom:14%;right:14%}
    .roll-anim{animation:roll .6s}@keyframes roll{0%{transform:rotate(0) scale(1)}50%{transform:rotate(12deg) scale(1.05)}100%{transform:rotate(0) scale(1)}}

    /* MOBILE TWEAKS */
    @media (max-width: 576px){
      .container { padding-left: 1rem; padding-right: 1rem; }
      .card-header { font-size: 0.95rem; }
      .card-body { padding: 0.9rem; }
      .btn { padding: .75rem 1rem; font-size: 1rem; }
      #trapResult small { font-size: .95rem; }
    }
  </style>
</head>
<body>
  <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-3 sticky-top bg-body pt-2" style="z-index:1020;">
      <h1 class="h5 mb-0">üé≤ Board Game Helper</h1>
      <button id="btnClearLogs" class="btn btn-outline-danger btn-sm">üßπ X√≥a l·ªãch s·ª≠</button>
    </div>
    <div class="row g-4">
      <!-- LEFT: Buttons for effects (on mobile this column goes last) -->
      <div class="col-12 col-lg-4 order-3 order-lg-1">
        <div class="card mb-3">
          <div class="card-header">Hi·ªáu ·ª©ng th∆∞·ªùng</div>
          <div class="card-body d-grid gap-2">
            <button class="btn btn-success w-100" id="drawBenefit">‚úÖ Random C√≥ l·ª£i</button>
            <button class="btn btn-warning w-100" id="drawHarm">‚ö†Ô∏è Random B·∫•t l·ª£i</button>
          </div>
        </div>
        <div class="card">
          <div class="card-header">Hi·ªáu ·ª©ng c·ª±c m·∫°nh</div>
          <div class="card-body d-grid gap-2">
            <button class="btn btn-success w-100" id="drawBenefitX">üí• Random C√≥ l·ª£i CM</button>
            <button class="btn btn-warning w-100" id="drawHarmX">üî• Random B·∫•t l·ª£i CM</button>
          </div>
        </div>
      </div>
      <!-- CENTER: Dice (on mobile this goes first) -->
      <div class="col-12 col-lg-4 order-1 order-lg-2">
        <div class="card text-center">
          <div class="card-header">X√∫c x·∫Øc</div>
          <div class="card-body">
            <div id="die" class="die mb-3"></div>
            <button id="btnRoll" class="btn btn-primary w-100 w-sm-auto">üé≤ L·∫Øc x√∫c x·∫Øc</button>
            <div class="mt-2">K·∫øt qu·∫£: <span id="rollResult">‚Äî</span></div>
          </div>
        </div>
        <div class="card mt-3">
          <div class="card-header d-flex justify-content-between align-items-center">
            <span>üìú L·ªãch s·ª≠</span>
            <button class="btn btn-sm btn-outline-secondary d-lg-none" data-bs-toggle="collapse" data-bs-target="#histCollapse" aria-expanded="false" aria-controls="histCollapse">Hi·ªán/·∫®n</button>
          </div>
          <div id="histCollapse" class="collapse d-lg-block">
            <ul class="list-group list-group-flush" id="history"></ul>
          </div>
        </div>
      </div>
      <!-- RIGHT: Trap (on mobile this goes second) -->
      <div class="col-12 col-lg-4 order-2 order-lg-3">
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            <span>Trap</span>
            <button id="drawTrap" class="btn btn-sm btn-dark">üéØ Random Trap</button>
          </div>
          <div class="card-body" id="trapResult">Ch∆∞a b·ªëc thƒÉm trap n√†o.</div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const DATA={
      benefit:[
        {title:"ƒê·ª° ƒê√≤n Th√†nh C√¥ng",desc:"Mi·ªÖn tr·ª´ hi·ªáu ·ª©ng b·∫•t l·ª£i ti·∫øp theo t·ª´ ƒë·ªëi th·ªß ho·∫∑c t·ª´ √¥ b·∫°n ƒë·ª©ng v√†o."},
        {title:"Kh√≥a Tay Nhu Thu·∫≠t",desc:"\"Kh√≥a\" m·ªôt ng∆∞·ªùi ch∆°i kh√°c, khi·∫øn h·ªç m·∫•t l∆∞·ª£t ·ªü v√≤ng ti·∫øp theo."},
        {title:"H·ªìi S·ª©c",desc:"H·ªìi ph·ª•c 1 m·∫°ng (n·∫øu c√≥) ho·∫∑c tho√°t kh·ªèi m·ªôt hi·ªáu ·ª©ng ti√™u c·ª±c ƒëang √°p d·ª•ng l√™n b·∫°n."}],
      harm:[
        {title:"M·∫•t ThƒÉng B·∫±ng",desc:"L√πi l·∫°i 5 √¥."},
        {title:"ƒê·ªëi Th·ªß M·∫°nh H∆°n",desc:"B·ªã ƒë·∫©y l√πi v·ªÅ v·ªã tr√≠ c·ªßa ng∆∞·ªùi ch∆°i x·∫øp nh·∫•t tr∆∞·ªõc b·∫°n."},
        {title:"M·ªát M·ªèi",desc:"S·ªë √¥ di chuy·ªÉn l∆∞·ª£t ti·∫øp theo b·ªã gi·∫£m m·ªôt n·ª≠a (l√†m tr√≤n xu·ªëng)."},
        {title:"Bong G√¢n",desc:"B·ªè l∆∞·ª£t ti·∫øp theo ƒë·ªÉ \"h·ªìi ph·ª•c\"."}],
      benefitX:[
        {title:"T√°i hi·ªán tuy·ªát k·ªπ",desc:"G√¢y ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn t·∫•t c·∫£ ng∆∞·ªùi ch∆°i kh√°c, b·∫°n ch·ªçn 1 hi·ªáu ·ª©ng duy nh·∫•t √°p d·ª•ng."},
        {title:"B·∫≠t th·∫ßy",desc:"B·∫°n ƒë∆∞·ª£c mi·ªÖn nhi·ªÖm ho√†n to√†n v·ªõi m·ªçi hi·ªáu ·ª©ng b·∫•t l·ª£i trong 2 v√≤ng."},
        {title:"Song ƒê·∫•u Th·∫Øng L·ª£i",desc:"ƒê∆∞·ª£c r√∫t th√™m 2 th·∫ª hi·ªáu ·ª©ng v√† gi·ªØ l·∫°i ƒë·ªÉ d√πng sau."}],
      harmX:[
        {title:"Ch·∫•n th∆∞∆°ng n·∫∑ng",desc:"B·ªè l∆∞·ª£t li√™n ti·∫øp 2 v√≤ng, tr·∫£ l·∫°i 1 th·∫ª hi·ªáu ·ª©ng c√≥ l·ª£i (n·∫øu c√≥)."},
        {title:"Th·∫•t b·∫°i t√¢m l√≠",desc:"ƒê·ªïi v·ªã tr√≠ cho ng∆∞·ªùi ch∆°i cu·ªëi c√πng, m·∫•t to√†n b·ªô hi·ªáu ·ª©ng c√≥ l·ª£i."},
        {title:"L·ªói k·ªπ thu·∫≠t tr·∫ßm tr·ªçng",desc:"L√πi v·ªÅ √¥ xu·∫•t ph√°t, gi·∫£m 1 √¥ di chuy·ªÉn vƒ©nh vi·ªÖn."}],
      traps:[
        {title:"M·∫•t V√µ C√¥ng",desc:"M·∫•t l∆∞·ª£t ti·∫øp theo (√°p d·ª•ng cho ng∆∞·ªùi ch∆°i kh√°c)."},
        {title:"Chi√™u ƒê√°nh L√©n",desc:"L·∫•y 1 th·∫ª t·ª´ tay ƒë·ªëi th·ªß (ch·ªçn ng∆∞·ªùi ch∆°i kh√°c)."},
        {title:"Tr∆∞·ª£t K·ªπ Thu·∫≠t",desc:"L√πi 2 √¥, √°p d·ª•ng cho b·∫£n th√¢n."},
        {title:"M·∫•t V≈© Kh√≠",desc:"M·∫•t hi·ªáu ·ª©ng c·ªßa 1 th·∫ª k·ªπ nƒÉng ƒëang s·ªü h·ªØu."},
        {title:"B·ªã Kh√≥a ƒê√≤n",desc:"Kh√¥ng ƒë∆∞·ª£c d√πng k·ªπ nƒÉng trong 1 l∆∞·ª£t k·∫ø ti·∫øp."},
        {title:"Ng√£ S√†n",desc:"Quay l·∫°i √¥ xu·∫•t ph√°t c·ªßa v√≤ng n√†y."},
        {title:"Tinh Th·∫ßn Th∆∞·ª£ng V√µ",desc:"B·∫Øt bu·ªôc t·∫∑ng 1 th·∫ª th∆∞·ªüng cho ng∆∞·ªùi kh√°c."},
        {title:"ƒê√≤n Ch∆∞·ªüng L·∫°c ƒê·ªÅ",desc:"M·∫•t 1 l∆∞·ª£t v√† ph·∫£i k·ªÉ t√™n 1 th·∫ø v√µ ho·∫∑c danh lam VN."},
        {title:"V√µ Sinh H·ªìn Lo·∫°n",desc:"ƒê·ªïi to√†n b·ªô th·∫ª v·ªõi ng∆∞·ªùi b√™n ph·∫£i."},
        {title:"S∆∞ Ph·ª• Ki·ªÉm Tra",desc:"Tr·∫£ l·ªùi c√¢u h·ªèi nhanh, sai th√¨ m·∫•t l∆∞·ª£t ti·∫øp theo."}]
    };

    function rng(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
    function renderDie(n){const die=document.getElementById('die');die.innerHTML='';const map={1:['mc'],2:['tl','br'],3:['tl','mc','br'],4:['tl','tr','bl','br'],5:['tl','tr','mc','bl','br'],6:['tl','ml','tr','mr','bl','br']};map[n].forEach(pos=>{const p=document.createElement('span');p.className='pip '+pos;die.appendChild(p);});}
    renderDie(6);

    function addHistory(label,obj){const li=document.createElement('li');li.className='list-group-item';li.innerHTML=`<strong>${label}:</strong> ${obj.title||obj}<br><small>${obj.desc||''}</small>`;document.getElementById('history').prepend(li);}

    document.getElementById('btnRoll').onclick=()=>{const n=rng(1,6);renderDie(n);document.getElementById('rollResult').textContent=n;addHistory('üé≤ X√∫c x·∫Øc',{title:n,desc:""})};
    document.getElementById('drawBenefit').onclick=()=>{let pick=DATA.benefit[rng(0,DATA.benefit.length-1)];addHistory('‚úÖ C√≥ l·ª£i',pick)};
    document.getElementById('drawHarm').onclick=()=>{let pick=DATA.harm[rng(0,DATA.harm.length-1)];addHistory('‚ö†Ô∏è B·∫•t l·ª£i',pick)};
    document.getElementById('drawBenefitX').onclick=()=>{let pick=DATA.benefitX[rng(0,DATA.benefitX.length-1)];addHistory('üí• C√≥ l·ª£i CM',pick)};
    document.getElementById('drawHarmX').onclick=()=>{let pick=DATA.harmX[rng(0,DATA.harm.length-1)];addHistory('üî• B·∫•t l·ª£i CM',pick)};
    document.getElementById('drawTrap').onclick=()=>{let pick=DATA.traps[rng(0,DATA.traps.length-1)];document.getElementById('trapResult').innerHTML=`<strong>${pick.title}</strong><br><small>${pick.desc}</small>`;addHistory('üéØ Trap',pick)};

    document.getElementById('btnClearLogs').onclick=()=>{document.getElementById('history').innerHTML='';};
  </script>
</body>
</html>
